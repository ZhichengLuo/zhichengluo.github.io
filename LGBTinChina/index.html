<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:100,200,300,400,500,600,700,800,900" rel="stylesheet">

    <title>LGBT in China</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">


    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/css/templatemo-eduwell-style.css">
    <link rel="stylesheet" href="assets/css/owl.css">
    <link rel="stylesheet" href="assets/css/lightbox.css">

    <!-- ***** For Rader Chart Start ***** -->
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-radar.min.js"></script>
    <link href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css" type="text/css" rel="stylesheet">
    <link href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css" type="text/css" rel="stylesheet">
    <style type="text/css">
      html,
      body,
      #radar_container {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <!-- ***** For Rader Chart End ***** -->

  </head>

<body>


  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
      <div class="container">
          <div class="row">
              <div class="col-12">
                  <nav class="main-nav">
                      <!-- ***** Logo Start ***** -->
                      <a href="index.html" class="logo">
                          <img src="assets/images/logo.png" alt="EduWell Template">
                      </a>
                      <!-- ***** Logo End ***** -->
                      <!-- ***** Menu Start ***** -->
                      <ul class="nav">
                          <li class="scroll-to-section"><a href="#top" class="active">Home</a></li>
                          <li class="scroll-to-section"><a href="#radar_chart">Radar</a></li>
                          <li class="scroll-to-section"><a href="#circle_chart">Circle</a></li>
                          <li class="scroll-to-section"><a href="#cross_dim_chart">2Dim</a></li> 
                          <li class="has-sub">
                              <a href="javascript:void(0)">Pages</a>
                              <ul class="sub-menu">
                                  <li><a href="about-us.html">About Us</a></li>
                                  <li><a href="our-services.html">Dataset</a></li>
                              </ul>
                          </li>
                      </ul>        
                      <a class='menu-trigger'>
                          <span>Menu</span>
                      </a>
                      <!-- ***** Menu End ***** -->
                  </nav>
              </div>
          </div>
      </div>
  </header>
  <!-- ***** Header Area End ***** -->

  <!-- ***** Main Banner Area Start ***** -->
  <section class="main-banner" id="top">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <!-- <div class="section-heading"> -->
            <h5>
              China has probably the <em>BIGGEST LGBT population</em> in the world. 
              However, this community still faces serious misunderstanding and discrimination from the society. 
              In this project, we explored and analyzed the data from a national survey in China, which gives us an insight
              into the attitudes towards LGBT of Chinese people and the situation of LGBT community in China.
            </h4>
            <br>
            <h5>
              The dataset used in this project comes from the China Labor-force Dynamics Survey 2018 (CLDS2018) 
              carried out by Sun Yat-sen University in 2018. This survey is higly representative of China by covering a broad range of aspects of labor force 
              in 29 Chinese provincial administrative units. After cleaning, 16217 samples with 29 selected attributes 
              relevant to our research interest were kept. The cleaned data can be found at the <a href="https://docs.google.com/spreadsheets/d/1lkup7AaxZ_oshy3leE1Evrkrk5rR94-u/edit?usp=sharing&ouid=108315486543480344550&rtpof=true&sd=true">link</a>.
            </h4>


            <!-- <h4>Some <em>Introduction</em> to the project</h4> -->
          <!-- </div> -->
        </div>
        <!-- <div class="col-lg-12"> -->
          <div class="section-heading">
            <h4>The overall distribution of people's attitudes towards LGBT in China</h4>
          </div>
        <!-- </div> -->
        <div class="col-lg-12" style="height: 350px;" >
          <div id="first_container" style="height:100%; width: 65%; margin: auto;" >
            <script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-base.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
            <script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-pyramid-funnel.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
            <script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-exports.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
            <script src="https://cdn.anychart.com/releases/8.11.0/js/anychart-ui.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
            <script>
              anychart.onDocumentReady(function () {
              
                var chart = anychart.pyramid([
                  {name: "Strongly negative", value: 2813,
                    normal:   {
                      fill: "#b3697a",
                    },
                  },
                  {name: "Negative", value: 7732,
                    normal:   {
                      fill: "#d3697a",
                    },
                  },
                  {name: "Neutral", value: 5051,
                    normal:   {
                      fill: "#007bb0",
                    },
                  },
                  {name: "Positive", value: 597,
                    normal:   {
                      fill: "#69b3a2",
                    },
                  },
                  {name: "Strongly positive", value: 24,
                    normal:   {
                      fill: "#30bf79",
                    },
                  }
                ]);

                // place labels to the right
                chart
                  .labels()
                  .fontSize(20)
                  .position('outside-right');

                // set 45px connectors length   
                chart.connectorLength(50);
                
                // chart
                //   .title("The overall distribution of people's attitudes towards LGBT in China");
                // chart 
                //   .title()
                //   .fontColor('black')
                //   .fontSize(23);
                // draw chart
                chart.container("first_container");


                var legend = chart.legend();


                // set position mode
                legend.positionMode("outside");
                // set position and alignement
                legend.position("bottom");
                legend.align("left");
                // legend.itemsLayout("horizontalExpandable");
                chart.draw();
              });
            </script>
          </div>
          <!-- <div class="right-image">
            <img src="assets/images/banner-right-image.png" alt="">
          </div> -->
        </div>
        
        <!-- <div class="col-lg-12" > -->
          <!-- <div class="header-text"> -->
            <!-- <h2>The distribution of attitudes towards LGBT of interviewees</h2> -->
            <!-- <h2>Some introduction to the project & <em>right</em> is a bar chart</h2> -->
          <!-- </div> -->
        <!-- </div> -->
      </div>
    </div>
  </section>
  <!-- ***** Main Banner Area End ***** -->

  <section class="services" id="radar_chart">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="section-heading">
            <h4>Demongraphic characteristics of groups holding different attitudes towards LGBT</h4>
          </div>
        </div>
        <div class="col-lg-8" style="height:600px">
          <div id="radar_container"></div>
          <script>
          
            anychart.onDocumentReady(function () {
              // create data set on our data
              var chartData = {
                // title: 'Characteristics of groups holding different attitudes towards homosexuality',
                header: ['#', 'Negative', 'Neutral', 'Positive'],
                rows: [
                ['Education', 0.2, 0.5739805754949188, 0.8],
                ['Age', 0.8, 0.595975131692656, 0.2],
                ['Income', 0.2, 0.49321060966404984, 0.8],
                ['Patriarchy Tendency', 0.6922921101413757, 0.8, 0.2], // HowMuchYouAgreeThatHavingBoysBetterThanGirls
                ['Homosexual Friends', 0.2, 0.31676078453362283, 0.8] // how many homo ppl you know
                ]
              };
            
              // create radar chart
              var chart = anychart.radar();

              var interactivity = chart.interactivity();
              interactivity.selectionMode("singleSelect");
              
              chart.palette(["#d3697a", "#007bb0", "#69b3a2"]);
              // set default series type
              chart.defaultSeriesType('area');
            
              // set chart data
              chart.data(chartData);
            
              // force chart to stack values by Y scale.
              // chart.yScale().stackMode('value');
            
          
          
              chart.yGrid().palette(["gray 0.05", "gray 0.1"]);  
              // set yAxis settings
              chart.yAxis().stroke('#545f69');
              chart.yAxis().ticks().stroke('#545f69');
            
              chart
                .title()
                .fontColor('#545f69')
                .fontSize(17);
              
              chart
                .xAxis()
                .labels()
                .fontColor('#545f69')
                .fontSize(17);

              // set yAxis labels settings
              chart
                .yAxis()
                .labels()
                .fontColor('gray')
                .fontSize(17)
                .format('{%Value}{scale:(1000000)|(M)}');
            
              // set chart legend settings
              chart
                .legend()
                .align('center')
                .fontSize(17)
                .position('center-bottom')
                .enabled(true);
            
              // set container id for the chart
              chart.container('radar_container');
              // initiate chart drawing
              chart.draw();
            });
          </script>
        </div>
        
        <div class="col-lg-3">
          <div class="section-heading">
            <h5>
              From the left radar chart, we can see people with positive attitude towards LGBT 
              tends to have higher education level, income, more homosexual friends, 
              lower patriarchy tendency, and have a younger age.

            </h5>
            <br>
            <h5>
              It shows monotonic trends among the 3 groups with only one exception in patriarchy tendency where 
              Neutral group believes the most in having boys is better than girls, followed by negative group and positive group.

            </h5>
          </div>
        </div>

      </div>
    </div>
  </section>

  <section class="testimonials" id="circle_chart">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="section-heading">
            <h4>Groups of Different Categorical Attributes towards LGBT</h4>
            <h5>
              This circular bar chart means to represent the effect of <b>single categorical factor</b> on the attitudes towards LGBT. 
              <br>

              We construct it based on the how much score higher/lower than global average when it belongs to certain 
              category. 

              <!-- <br>
              The scale of score is from -1(negative) to 1(positive). When mouse over the each bar, the score will be shown in gauge chart.  For example, when mouse is over "Studied Abroad", the gauge shows 0.75. It means that people studied abroad will have 0.75 
              higher score than global average score.
              
              <br> -->
              
            </h5>
            
          </div>
          
        </div>
        
      </div>
    </div>

    <div style="position: relative; width:100%; left: 10%">
    <table>
      <tr>
          <td>
              <div id="circular_bar1"  style="position: relative;"></div> 
          </td>
          <td>
              <div id="gauge"  style="position: relative; "></div>
          </td>
    <td>
              <div id="circular_bar2"  style="position: relative; "></div> 
          </td>
      </tr>
  </table>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="section-bottom">
  <h6>
    
    <br>
    Calculation: The scale of attitude score is from -1(negative) to 1(positive), when neutral is assign with 0. 
    Calculated global average attitude score is -0.61. We calculate the increasement in each group compared to the global average. 
    If the attitude score is -0.51, the result will be -0.51-(-0.61)=0.1. 

    <br>
    Interaction: When mouse over the each bar, the score will be shown in gauge chart.  
    For example, when mouse is over "Studied Abroad", the gauge shows 0.75. 
    It means that people studied abroad will have 0.75 
    higher score than global average score.
    
    <br>
    
  </h6>
</div>
          
</div>

</div>
</div>

  <script src="https://d3js.org/d3.v7.min.js"></script>
        <script src="./js/plotly-latest.min.js"></script>
        <script src="./js/circular.js"></script>
  </section>

  <section class="testimonials" id="cross_dim_chart">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="section-heading">
            <!-- <h6>Some introdcution to the </h6> -->
            <h4> Cross Attribute Comparision Heatmap chart </h4>
            <!-- <p>Cross dimension Chart: In this chart, we compare the average accepting rate with two differnet dimension.</p> -->
            <h5>
            The Heatmap Chart means to shown the <b> mutual effect of two attributes </b> on attitude towards LGBT.
            <br>
            We construct this heatmap chart based on the higher/lower score than global average when belongs to certain 
            cross-section category.
            </h5>
          </div>
        </div>
        
      </div>
    </div>

  <div style="position: relative; width:100%; left: 15%" class="responsive-svg-container">
    <table>
      <tr>
        <td>
          <div id = "button1">
          <button onclick="button_click('Age', 'Income')">Age - Income</button>
          </div>
          <br />
          <div id = "button2">
          <button onclick="button_click('Age', 'MaritalStatus')">Age - MaritalStatus</button>
          </div>
          <br />
          <div id = "button3">
              <button onclick="button_click('Education', 'Age')">Education - Age</button>
          </div>
          <br />
          <div id = "button4">
              <button onclick="button_click('Education', 'Income')">Education - Income</button>
          </div>
          <br />
          <div id = "button5">
              <button onclick="button_click('Education', 'MaritalStatus')">Education - MaritalStatus</button>
          </div>
          <br />
          <div id = "button6">
              <button onclick="button_click('Income', 'MaritalStatus')">Income - MaritalStatus</button>
          </div>
      </td>
          <td>
              <div id="heatmap"   style="position: relative; ">
                
          </td>
          <td>
            <div>
              <svg id="my_heatviz" height=300 width=450></svg>
            </div>
          </td>
      </tr>
  </table>
  
</div>
<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <div class="section-bottom">
<h6>
  
  <br>
  Calculation: The scale of attitude score is from -1(negative) to 1(positive), when neutral is assign with 0. 
  Calculated global average attitude score is -0.61. We calculate the increasement in each group compared to the global average. 
  If the attitude score is -0.51, the result will be -0.51-(-0.61)=0.1. 

  <br>
  Interaction: When mouse over the each slot, the exact increase/decrease score is shown. 
  
  <br>
  
</h6>
</div>
        
</div>

</div>
</div>
<br /><br /><br /><br /><br /><br />
  <script src="./js/heatmap.js"></script>
  </section>


  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <script src="assets/js/isotope.min.js"></script>
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/lightbox.js"></script>
    <script src="assets/js/tabs.js"></script>
    <script src="assets/js/video.js"></script>
    <script src="assets/js/slick-slider.js"></script>
    <script src="assets/js/custom.js"></script>
    <script>
        //according to loftblog tut
        $('.nav li:first').addClass('active');

        var showSection = function showSection(section, isAnimate) {
          var
          direction = section.replace(/#/, ''),
          reqSection = $('.section').filter('[data-section="' + direction + '"]'),
          reqSectionPos = reqSection.offset().top - 0;

          if (isAnimate) {
            $('body, html').animate({
              scrollTop: reqSectionPos },
            800);
          } else {
            $('body, html').scrollTop(reqSectionPos);
          }

        };

        var checkSection = function checkSection() {
          $('.section').each(function () {
            var
            $this = $(this),
            topEdge = $this.offset().top - 80,
            bottomEdge = topEdge + $this.height(),
            wScroll = $(window).scrollTop();
            if (topEdge < wScroll && bottomEdge > wScroll) {
              var
              currentId = $this.data('section'),
              reqLink = $('a').filter('[href*=\\#' + currentId + ']');
              reqLink.closest('li').addClass('active').
              siblings().removeClass('active');
            }
          });
        };

        $('.main-menu, .responsive-menu, .scroll-to-section').on('click', 'a', function (e) {
          e.preventDefault();
          showSection($(this).attr('href'), true);
        });

        $(window).scroll(function () {
          checkSection();
        });
    </script>
</body>

</html>